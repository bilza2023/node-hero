
<head>
  <link rel="stylesheet" href="/css/water.css">
</head>


<h1>Manage Tcodes</h1>

<%- include('./flash') %>  


<form method="POST" action="/admin/tcode">
  <label>Name: <input type="text" name="name" required></label>
  <label>Slug: <input type="text" name="slug" required></label>
  <label>Type:
    <select name="type">
      <option value="fbise">FBISE</option>
      <option value="punjab">Punjab</option>
      <option value="custom">Custom</option>
    </select>
  </label>
  <button type="submit">Add Tcode</button>
</form>

<form method="GET" action="/admin/tcode">
  <button type="submit">Refresh Table</button>
</form>

<table>
  <thead>
    <tr><th>ID</th>
      <th>Name</th>
      <th>Title</th>
      <th>Actions</th></tr>
  </thead>
  <tbody>
    <% tcodes.forEach(tcode => { %>
      <tr>
        <td><%= tcode.id %></td>
        <td><%= tcode.tcodeName %></td>
        <td><%= tcode.title %></td>

        <td>
          <a href="/admin/tcode/<%= tcode.id %>/edit">Edit</a>
          <form method="POST" action="/admin/tcode/<%= tcode.id %>/delete" style="display:inline">
            <button type="submit" onclick="return confirm('Delete this tcode?')">Delete</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>
